# Setup local git repo
$ exec git init
$ exec git checkout -b main
$ exec git add .
$ exec git commit -m commit

# Setup remote git repo in target directory
$ exec git init --bare $PWD/target/remote
$ exec git remote add origin $PWD/target/remote
$ exec git push origin main
$ exec git branch -u origin/main

> release with-defaults

# Make sure scripted tests ran
$ exists target/scripted-ran

# Make sure publishSigned ran
> contains target/scala-SCALA_API/sbt-SBT_API/publish-version sonatype-local-bundle:1.2.3

# Make sure it does not run cross release
-> existsCustom target/scala-OTHER_SCALA_API/sbt-OTHER_SBT_API/publish-version

# Make sure sonatypeRelease ran
> contains target/sonatype-release-version 1.2.3

# Make sure the version was updated
> contains version.sbt 1.2.4-SNAPSHOT

# Make sure the git repo was tagged
$ exec git show 1.2.3
